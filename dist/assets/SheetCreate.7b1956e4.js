import{y as D,p as N,k as p,a as d,u as S,r as l,C as L,d as s,W as _,L as f,j as A,B,f as C}from"./index.3996ea3a.js";import{T as b,b as v}from"./Text.d7c5cc0a.js";import{I as y}from"./Input.4d1603a8.js";import{D as g}from"./DynamicModuleLoader.a88b5f4e.js";const w="_wrapper_1nxvq_1",k="_text_1nxvq_6",T="_inputName_1nxvq_10",j="_btn_1nxvq_21",o={wrapper:w,text:k,inputName:T,btn:j},m=a=>{var e;return(e=a.addSheet)==null?void 0:e.name},q=a=>{var e;return(e=a.addSheet)==null?void 0:e.error},E={name:""},U=D({name:"addList",initialState:E,reducers:{setName:(a,e)=>{a.name=e.payload}}}),{reducer:M,actions:z}=U,I=N("addSheet/sendList",async(a,e)=>{const{extra:i,rejectWithValue:r,getState:n}=e,u=p(n()),t=m(n());if(!u||!t)return r("error");try{return(await i.api.post("/lists/add",{name:t,user_id:u.id})).data}catch(c){return console.log(c),r("\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435")}}),R={addSheet:M},O=({className:a,isOpen:e,onClose:i,setIsSheetCreateModal:r})=>{const n=d(m);d(q);const u=d(p),t=S(),c=l.exports.useCallback(x=>{t(z.setName(x))},[t]),h=l.exports.useCallback(async()=>{u!==void 0&&(await t(I()),r(!1),await t(L({idUser:u.id})))},[t,u]);return s(g,{reducers:R,removeAfterUnmount:!0,children:s(_,{isOpen:e,onClose:i,children:s(l.exports.Suspense,{fallback:s(f,{}),children:A("div",{className:o.wrapper,children:[s(b,{title:"\u041D\u043E\u0432\u044B\u0439 \u043B\u0438\u0441\u0442",size:v.M,className:o.text}),s(y,{placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043B\u0438\u0441\u0442\u0430",type:"text",value:n,className:o.inputName,onChange:c}),s(B,{className:o.btn,theme:C.BACKGROUND,onClick:h,children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})})})})};export{O as default};
